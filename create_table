--слова на разных языках
CREATE TABLE words (
  id SERIAL PRIMARY KEY,
  word VARCHAR(30) NOT NULL,
  word_lang VARCHAR(30) NOT NULL,
  status_id INT DEFAULT 1 NOT NULL,
  added_by_id INT NOT NULL,
  added_at TIMESTAMP NOT NULL
);

-- перевод слова, пользователи сами добавляют и оценивают уже существующие переводы. 
-- при добавлении тригерром будет выполняться проверка уже существующей связи с обратном направлении
-- (не нужна запись слова с русского на английский, если уже есть его запись с английского на русский).
-- from_word_lang и to_word_lang указывают названия языков. Название совпадает с названием таблицы.

CREATE TABLE word_links(
  id SERIAL PRIMARY KEY,
  from_word_id INT NOT NULL,
  to_word_id INT NOT NULL,
  linked_by_id INT NOT NULL,
  link_status_id INT DEFAULT 1 NOT NULL,
  linked_at TIMESTAMP NOT NULL
);

-- оценка пользователями перевода  is_like BOOLEAN проверяет положительная оценка или отрицательная
CREATE TABLE links_rating(
  link_id INT NOT NULL PRIMARY KEY,
  is_like BOOLEAN NOT NULL,
  added_by_id INT NOT NULL,
  added_at TIMESTAMP NOT NULL
);

-- комментарии для каждого перевода
CREATE TABLE links_comments(
  id SERIAL PRIMARY KEY,
  link_id INT NOT NULL,
  added_by_id INT NOT NULL,
  added_at TIMESTAMP NOT NULL
);

-- оценки для комментариев
CREATE TABLE links_comments_rating(
  links_comments_id INT NOT NULL PRIMARY KEY,
  is_like BOOLEAN NOT NULL,
  added_by_id INT NOT NULL,
  added_at TIMESTAMP NOT NULL
);

CREATE TABLE users(
  id SERIAL PRIMARY KEY,
  email VARCHAR(30) NOT NULL,
  hash_password VARCHAR(30) NOT NULL,
  role_id INT DEFAULT 1 NOT NULL,
  added_at TIMESTAMP NOT NULL
);

-- выделил таблицу аналогично базе VK
CREATE TABLE profiles(
  users_id INT NOT NULL PRIMARY KEY,
  username VARCHAR(30),
  contacts VARCHAR(30),
  info VARCHAR(130)
);

-- статусы для переводов (активен (по умолчанию), заблокирован, на модерации)
CREATE TABLE links_statuses(
  id SERIAL PRIMARY KEY,
  status VARCHAR(30) NOT NULL
);

-- роли пользователей (пользователь (по умолчанию), модератор, администратор, заблокирован)
CREATE TABLE user_roles(
  id SERIAL PRIMARY KEY,
  role VARCHAR(30) NOT NULL
);

-- статусы для слов (активен (по умолчанию), заблокирован, на модерации)
CREATE TABLE word_statuses(
  id SERIAL PRIMARY KEY,
  status VARCHAR(30) NOT NULL
)
